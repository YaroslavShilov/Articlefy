{"version":3,"file":"home-page.ce4a0da4e7.chunk.js","mappings":"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","sources":["webpack://articlefy/./src/components/Article.tsx","webpack://articlefy/./src/hooks.ts","webpack://articlefy/./src/pages/Home.tsx"],"sourcesContent":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nexport var Article = function (_a) {\n    var id = _a.id, date = _a.date, imgUrl = _a.imgUrl, title = _a.title, text = _a.text, user = _a.user, className = _a.className;\n    return (_jsxs(\"article\", { className: className, children: [_jsxs(StyledTitle, { children: [_jsxs(\"h2\", { children: [_jsx(\"time\", { children: moment(date).format('LLL') }), _jsx(Link, { to: \"/article/\".concat(id), children: title }), user && _jsxs(\"span\", { children: [\"by \", user] })] }), _jsx(\"img\", { src: imgUrl || 'https://picsum.photos/150/104', alt: \"ArticlePage\" })] }), text && _jsx(\"p\", { children: text })] }));\n};\nvar StyledTitle = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n\\n  img {\\n    order: -1;\\n    width: 150px;\\n    height: 104px;\\n    object-fit: cover;\\n    border-radius: 4px;\\n  }\\n\\n  time {\\n    display: inline-block;\\n\\n    font-weight: 400;\\n    font-size: 16px;\\n    color: gray;\\n  }\\n\\n  h2 {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n    margin: 0;\\n    padding-left: 20px;\\n\\n    a {\\n      position: relative;\\n      display: inline-block;\\n\\n      font:\\n        700 27px/32px 'EB Garamond',\\n        serif;\\n      color: black;\\n      text-decoration: none;\\n\\n      &:after {\\n        content: '';\\n        position: absolute;\\n        bottom: -2px;\\n        left: 0;\\n\\n        width: 0;\\n        height: 2px;\\n        background-color: black;\\n        transition: all 0.5s ease-in-out;\\n      }\\n\\n      &:hover:after {\\n        width: 100%;\\n      }\\n    }\\n\\n    span {\\n      margin-top: 2px;\\n      color: gray;\\n      font-weight: 400;\\n      font-size: 14px;\\n      opacity: 0.8;\\n    }\\n  } /*END h2*/\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n\\n  img {\\n    order: -1;\\n    width: 150px;\\n    height: 104px;\\n    object-fit: cover;\\n    border-radius: 4px;\\n  }\\n\\n  time {\\n    display: inline-block;\\n\\n    font-weight: 400;\\n    font-size: 16px;\\n    color: gray;\\n  }\\n\\n  h2 {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n    margin: 0;\\n    padding-left: 20px;\\n\\n    a {\\n      position: relative;\\n      display: inline-block;\\n\\n      font:\\n        700 27px/32px 'EB Garamond',\\n        serif;\\n      color: black;\\n      text-decoration: none;\\n\\n      &:after {\\n        content: '';\\n        position: absolute;\\n        bottom: -2px;\\n        left: 0;\\n\\n        width: 0;\\n        height: 2px;\\n        background-color: black;\\n        transition: all 0.5s ease-in-out;\\n      }\\n\\n      &:hover:after {\\n        width: 100%;\\n      }\\n    }\\n\\n    span {\\n      margin-top: 2px;\\n      color: gray;\\n      font-weight: 400;\\n      font-size: 14px;\\n      opacity: 0.8;\\n    }\\n  } /*END h2*/\\n\"])));\nvar templateObject_1;\n","import { useDispatch, useSelector } from 'react-redux';\nexport var useAppDispatch = useDispatch;\nexport var useAppSelector = useSelector;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsxs as _jsxs, jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment, useEffect, useState } from 'react';\nimport { Article } from '@/components/Article';\nimport { useAppDispatch, useAppSelector } from '@/hooks';\nimport { fetchPartArticles, sortArticles } from '@/store/articlesSlice';\nimport styled from 'styled-components';\nimport { Loader } from '@/components/Loader';\nvar Home = function () {\n    var _a = useState(0), offset = _a[0], setOffset = _a[1];\n    var _b = useState(''), sort = _b[0], setSort = _b[1];\n    var _c = useAppSelector(function (state) { return state.articles; }), pageArticles = _c.pageArticles, loading = _c.loading, sorting = _c.sorting, error = _c.error;\n    var dispatch = useAppDispatch();\n    useEffect(function () {\n        //@ts-ignore\n        dispatch(fetchPartArticles(offset));\n    }, [offset, dispatch]);\n    var btnHandler = function (type) { return function () {\n        setOffset(type === 'prev' ? offset - 4 : offset + 4);\n    }; };\n    var sortHandler = function (type) { return function () {\n        setSort(type);\n        //@ts-ignore\n        dispatch(sortArticles(type));\n    }; };\n    if (error)\n        return _jsxs(\"h2\", { style: { textAlign: 'center' }, children: [\"Home error: \", error] });\n    if (!pageArticles.list)\n        return _jsx(Loader, {});\n    return (_jsxs(Fragment, { children: [_jsxs(StyledSort, { children: [_jsx(\"p\", { children: \"Sort: \" }), _jsx(\"button\", { onClick: sortHandler('new'), disabled: sort === 'new', children: \"New\" }), _jsx(\"button\", { onClick: sortHandler('old'), disabled: sort === 'old', children: \"Old\" })] }), sorting && _jsx(Loader, {}), !sorting && (_jsxs(Fragment, { children: [pageArticles.list.map(function (article) { return (_jsx(StyledArticle, __assign({}, article, { text: \"\" }), article.id)); }), loading ? (_jsx(Loader, {})) : (_jsxs(StyledButtons, { children: [_jsx(\"button\", { onClick: btnHandler('prev'), disabled: offset === 0, children: \"Prev\" }), _jsx(\"button\", { onClick: btnHandler('next'), disabled: !pageArticles.hasMore, children: \"Next\" })] }))] }))] }));\n};\nexport default Home;\nvar StyledArticle = styled(Article)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  margin-bottom: 60px;\\n\"], [\"\\n  margin-bottom: 60px;\\n\"])));\nvar StyledButtons = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  margin-top: 40px;\\n\\n  button {\\n    min-width: 100px;\\n    margin-right: 20px;\\n    padding: 10px;\\n\\n    text-align: center;\\n\\n    background-color: transparent;\\n    border: 1px solid #d9d9d9;\\n    border-radius: 4px;\\n    transition: all 0.5s ease-in-out;\\n\\n    cursor: pointer;\\n    outline: 0;\\n\\n    &:disabled {\\n      cursor: default;\\n    }\\n\\n    &:hover:not(:disabled) {\\n      border-color: tomato;\\n    }\\n\\n    &:focus,\\n    &:active,\\n    &:focus-within {\\n      &:not(:disabled) {\\n        border-color: red;\\n      }\\n    }\\n  }\\n\"], [\"\\n  margin-top: 40px;\\n\\n  button {\\n    min-width: 100px;\\n    margin-right: 20px;\\n    padding: 10px;\\n\\n    text-align: center;\\n\\n    background-color: transparent;\\n    border: 1px solid #d9d9d9;\\n    border-radius: 4px;\\n    transition: all 0.5s ease-in-out;\\n\\n    cursor: pointer;\\n    outline: 0;\\n\\n    &:disabled {\\n      cursor: default;\\n    }\\n\\n    &:hover:not(:disabled) {\\n      border-color: tomato;\\n    }\\n\\n    &:focus,\\n    &:active,\\n    &:focus-within {\\n      &:not(:disabled) {\\n        border-color: red;\\n      }\\n    }\\n  }\\n\"])));\nvar StyledSort = styled(StyledButtons)(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  margin: 0 0 40px;\\n\\n  p {\\n    margin: 0 16px 0 0;\\n    font-weight: 700;\\n    font-size: 20px;\\n  }\\n\\n  button {\\n    height: auto;\\n  }\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  margin: 0 0 40px;\\n\\n  p {\\n    margin: 0 16px 0 0;\\n    font-weight: 700;\\n    font-size: 20px;\\n  }\\n\\n  button {\\n    height: auto;\\n  }\\n\"])));\nvar templateObject_1, templateObject_2, templateObject_3;\n"],"names":["templateObject_1","__makeTemplateObject","cooked","raw","Object","defineProperty","value","Article","_a","id","date","imgUrl","title","text","user","className","children","StyledTitle","format","to","concat","src","alt","div","useAppDispatch","useAppSelector","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","useState","offset","setOffset","_b","sort","setSort","_c","state","articles","pageArticles","loading","sorting","error","dispatch","useEffect","btnHandler","type","sortHandler","style","textAlign","list","Fragment","StyledSort","onClick","disabled","map","article","StyledArticle","StyledButtons","hasMore","templateObject_2","templateObject_3"],"sourceRoot":""}